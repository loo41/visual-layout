{"version":3,"sources":["pages/App/components/Drawer/index.module.scss","pages/App/slider-components/History/index.module.scss","pages/App/components/Content/Header/index.module.scss","pages/App/slider-components/Layout/index.module.scss","pages/App/components/Header/index.module.scss","const/container.ts","util/index.ts","model/pages.ts","controller/service/history.ts","model/history.ts","model/page.ts","model/node.ts","controller/browser/document.ts","const/index.ts","controller/browser/event.ts","controller/service/page.ts","controller/keyboard-event.ts","controller/service/pages.ts","controller/service/node.ts","context/index.tsx","pages/App/components/Content/Body/container.tsx","pages/App/components/Content/Body/index.tsx","pages/App/components/Content/Header/component/preview.tsx","pages/App/components/Content/Header/Operation.tsx","static/img/revoke.png","static/img/forward.png","pages/App/components/Content/Header/component/size.tsx","pages/App/components/Content/Header/new-build.tsx","pages/App/components/Content/Header/index.tsx","pages/App/components/Content/index.tsx","pages/App/components/Header/index.tsx","const/layout.ts","pages/App/slider-components/Layout/index.tsx","pages/App/slider-components/History/index.tsx","pages/App/slider-components/Component/index.tsx","pages/App/components/Sider/Menu/index.tsx","pages/App/components/Sider/index.tsx","pages/App/config.tsx","pages/App/components/Drawer/Css.tsx","pages/App/components/Drawer/component/width.tsx","pages/App/components/Drawer/config.tsx","pages/App/components/Drawer/Style.tsx","pages/App/components/Drawer/index.tsx","pages/App/index.tsx","reportWebVitals.ts","index.tsx","pages/App/components/Content/index.module.scss","pages/App/components/Sider/index.module.scss","pages/App/components/Content/Body/index.module.scss"],"names":["module","exports","phone","type","styles","key","value","children","models","height","width","getDoubleTime","time","Pages","pages","idx","currentId","HistoryService","keep","rest","history","id","Date","getMilliseconds","node","toString","length","push","future","return","_id","index","findIndex","slice","recovery","backOff","step","pop","forward","current","_history","_future","this","shift","Page","target","name","_page","currentNode","clearDeleteNode","isDelete","isRoot","map","filter","_","page","Node","Option","_styles","element","isSelect","Random","uniqBy","random","Doc","create","ele","document","createElement","innerHTML","renderStyles","forEach","appendChild","style","cssText","pageService","options","previewStyle","concat","selectStyle","join","DragEleId","SelectStyle","PreviewStyle","title","DocEvent","bindContainerEvent","ondrop","ev","preventDefault","stopPropagation","dataTransfer","getData","nodeService","Reflect","get","dragData","deleteProperty","update","description","ondragover","dropEffect","onclick","setCurrentNode","childrenNode","bindLayoutEvent","Math","draggable","ondragstart","set","copy","setData","PageService","updateSign","createNode","NodeService","bindUpdate","isKeepHistory","nodes","clearEffect","proxy","targe","getHandler","propertyKey","receiver","targetValue","Array","isArray","Object","prototype","call","isObject","setProxy","Proxy","setStyles","createView","view","setHistoryPage","setPage","Keyboard","pagesService","copyNode","bindKeyboardEvent","keyboard","bind","console","log","getCurrentPage","e","some","backOffHistory","forwardHistory","PagesService","updateView","Promise","resolve","then","values","setRefresh","pagesKey","keys","currentPageIndex","Options","createNodeService","PagesContext","createContext","refresh","PagesProvider","useState","init","useEffect","object","cerate","cloneDeep","Provider","Container","renderView","useCallback","firstChild","removeChild","canvasSize","transform","zoom","className","container","canvas","ref","Body","body","Preview","content","Group","onChange","checkedValue","setOptions","includes","placement","EyeOutlined","fontSize","Operation","operation","code","CodeOutlined","eye","ZoomOutOutlined","color","cursor","onClick","min","max","inputNumber","ZoomInOutlined","src","alt","Select","Size","defaultValue","modal","find","inputNumbers","formatter","disabled","parser","replace","String","close","CloseOutlined","CreateModal","visible","setVisible","onOk","onCancel","footer","labelCol","span","wrapperCol","initialValues","onFinish","onFinishFailed","Item","label","rules","required","message","validator","reject","Error","offset","marginBottom","htmlType","marginRight","marginLeft","openNewBuildModal","props","el","ReactDOM","render","Header","header","pagesWarper","getPages","border","setPages","onConfirm","delete","okText","cancelText","CloseCircleOutlined","new","opr","Content","Layout","useContext","LayoutAST","layout","fill","item","extraStyles","renderLayout","pageLayout","useRef","pageLayoutAST","useMemo","DOM","layoutWarper","HistoryList","renderSpanIcon","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","formatTime","History","futureHistory","recoveryHistory","UndoOutlined","reverse","returnHistory","RedoOutlined","Component","test","MenuComponent","menus","menu","icon","Sider","LayoutOutlined","component","HistoryOutlined","AppstoreOutlined","curMenu","setCurMenu","theme","slider","Menu","isShow","card","display","Css","cssString","css","setCss","TextArea","input","rows","onBlur","split","trim","setStyle","KEY","Width","option","setOption","setValue","unitValue","match","pixel","unit","addonAfter","Panel","Collapse","StyleComponent","placeholder","defaultActiveKey","RegExp","escapeRegExp","TabPane","Tabs","Drawer","drawer","tab","Style","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","getElementById"],"mappings":"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,IAAK,iBAAkBC,MAAO,UAChC,CACED,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,SAGXC,SAAU,IAAIuH,MAAM,GAAGqJ,KAAK,GAAG/N,KAAI,SAAAgO,GACjC,MAAO,CACLjR,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,UACLC,MAAO,QAET,CACED,IAAK,OACLC,MAAO,MAGXC,SAAU,GACV8Q,YAAa,CACX,CACEhR,IAAK,SACLC,MAAO,sBAET,CACED,IAAK,UACLC,MAAO,cAuLf,CACE8E,MAAO,yCACP8L,OAlLgB,CAClB/Q,KAAM,MACNC,OAAQ,CACN,CAAEC,IAAK,UAAWC,MAAO,UACzB,CACED,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,QAET,CACED,IAAK,WACLC,MAAO,YAET,CACED,IAAK,UACLC,MAAO,SAGXC,SAAU,CACR,CACEJ,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,WACLC,MAAO,YAET,CACED,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,QAET,CACED,IAAK,MACLC,MAAO,KAET,CACED,IAAK,OACLC,MAAO,MAGXC,SAAU,IAEZ,CACEJ,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,OACLC,MAAO,KAET,CACED,IAAK,WACLC,MAAO,QAET,CACED,IAAK,SACLC,MAAO,WAGXC,SAAU,IAEZ,CACEJ,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,WACLC,MAAO,YAET,CACED,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,QAET,CACED,IAAK,SACLC,MAAO,KAET,CACED,IAAK,OACLC,MAAO,MAGXC,SAAU,OA0Fd,CACE6E,MAAO,eACP8L,OAjDgB,CAClB/Q,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,QAET,CACED,IAAK,WACLC,MAAO,SAGXC,SAAU,CACR,CACEJ,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,SAGXC,SAAU,OAsBd,CACE6E,MAAO,qBACP8L,OA3Fc,CAChB/Q,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,QAET,CACED,IAAK,WACLC,MAAO,SAGXC,SAAU,CACR,CACEJ,KAAM,MACNC,OAAQ,CACN,CACEC,IAAK,SACLC,MAAO,QAET,CACED,IAAK,QACLC,MAAO,QAET,CACED,IAAK,WACLC,MAAO,SAGXC,SAAU,QCrKVwO,GAA6D,SAAC,GAAgB,IAAdmC,EAAa,EAAbA,OAC9DI,EAAerG,uBACnB,SAAC/G,GACKA,GAAOgN,EAAOA,OAAOvN,UACnBO,EAAIgH,YAAYhH,EAAIiH,YAAYjH,EAAIgH,YACxChH,EAAIM,YAAY0M,EAAOA,OAAOvN,YAGlC,CAACuN,EAAOA,OAAOvN,UAGjB,OACE,cAAC,IAAD,CAASyI,UAAU,OAAOhH,MAAO8L,EAAO9L,MAAxC,SACE,qBAAKX,MAAO,CAAEhE,OAAQ,OAAQC,MAAO,QAAUgL,IAAK4F,OAK3CP,GAvDc,WAC3B,IAAQnI,EAAiBoI,qBAAW5G,GAA5BxB,aACF2I,EAAaC,iBACjB,IAGIjO,EAAOqF,EAAaO,iBAEpBsI,EAAgBC,mBAAQ,WAC5B,GAAInO,EAAM,CAAC,IAAD,EACR,aAAIgO,EAAWhP,eAAf,aAAI,EAAqBgB,EAAKlC,IAC5B,OAAOkQ,EAAWhP,QAAQgB,EAAKlC,IAEjC4P,GAAU1M,SAAQ,SAAA2M,GAChB,IAAM1P,EAAO+B,EAAK2D,WAAW5D,IAAEuH,UAAUqG,EAAOA,SAC1CS,EAAMpO,EAAKS,IAAIC,OAAOzC,GAC5B+B,EAAK8B,SAASoB,gBAAgBjF,GAC9B0P,EAAOA,OAAOvN,QAAUgO,KAG1BJ,EAAWhP,QAAQgB,EAAKlC,IAAM4P,GAGhC,OAAOA,KACN,CAAC1N,IAEJ,OACE,qBAAKgI,UAAWnL,KAAOoL,UAAvB,SACGiG,EAAcrO,KAAI,SAAC8N,EAAQnP,GAAT,OACjB,qBAAiBwJ,UAAWnL,KAAOwR,aAAnC,SACE,cAAC,GAAD,CAAMV,OAAQA,KADNnP,S,yCCgCZ8P,GAAc,SAAC,GAQd,IAPLzQ,EAOI,EAPJA,QACA0Q,EAMI,EANJA,eACAvG,EAKI,EALJA,UAcQlK,EAA0BD,EAA1BC,GAAIT,EAAsBQ,EAAtBR,KAAMuF,EAAgB/E,EAAhB+E,YAClB,OACE,sBAAKoF,UAAS,UAAKnL,KAAOgB,QAAZ,YAAuBmK,GAArC,UACE,+BAAOpF,IACP,+BAZe,SAACvF,GAClB,MAAM,GAAN,OAAUA,EAAKmR,cAAf,YACEnR,EAAKoR,WAAa,EADpB,YAEIpR,EAAKqR,UAFT,aAEuBrR,EAAKsR,WAF5B,YAE0CvR,EACxCC,EAAKuR,cAHP,YAIKxR,EAAcC,EAAKwR,eAOfC,CAAWzR,KACjBkR,EAAezQ,OAKPiR,GA1Fe,WAC5B,IAAQ1J,EAAiBoI,qBAAW5G,GAA5BxB,aAEFrF,EAAOyE,OAAO6B,OAAOjB,EAAawH,YAAY/M,QAClD,qBAAGhC,KAAgBuH,EAAa5H,aAChC,GAkDF,OACE,sBAAKuK,UAAWnL,KAAOoL,UAAvB,UAxBA,OAAOjI,QAAP,IAAOA,OAAP,EAAOA,EAAMnC,QAAQQ,OAClBK,QACAoB,QAAO,SAAAC,GAAC,OAAIA,KACZF,KAAI,SAAAhC,GAAO,OACV,cAAC,GAAD,CACEmK,UAAWnL,KAAOmS,cAClBnR,QAASA,EAET0Q,eAAgB,SAACzQ,GAAD,OACd,sBACE0L,QAAS,WACPxJ,EAAKiP,gBAAgBnR,IAFzB,SAKE,cAAC,IAAD,CAAS+K,UAAU,QAAQhH,MAAM,2BAAjC,SACE,cAACqN,GAAA,EAAD,UARDrR,EAAQC,OA/BnB,OAAOkC,QAAP,IAAOA,OAAP,EAAOA,EAAMnC,QAAQA,QAClBa,QACAoB,QAAO,SAAAC,GAAC,OAAIA,KACZoP,UACAtP,KAAI,SAAAhC,GAAO,OACV,cAAC,GAAD,CACEA,QAASA,EAET0Q,eAAgB,SAACzQ,GAAD,OACd,sBACE0L,QAAS,WACPxJ,EAAKoP,cAActR,IAFvB,SAKE,cAAC,IAAD,CAAS+K,UAAU,QAAQhH,MAAM,2BAAjC,SACE,cAACwN,GAAA,EAAD,UARDxR,EAAQC,WCjBRwR,GALwC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAExD,OADA7J,QAAQC,IAAI,OAAQ4J,GACb,8B,kDCcMC,GAfoE,SAAC,GAG7E,IAFL/G,EAEI,EAFJA,SACAgH,EACI,EADJA,MAEA,OACE,qBAAKzH,UAAWnL,KAAO6S,KAAvB,SACGD,EAAM5P,KAAI,gBAAG/B,EAAH,EAAGA,GAAI6R,EAAP,EAAOA,KAAP,OACT,qBAAcnG,QAAS,kBAAMf,EAAS3K,IAAtC,SACG6R,GADO7R,SCJV8R,GAAUpC,IAAVoC,MAGO,cACb,IAAMH,EAAgBtB,mBAAQ,WAC5B,MCKK,CACL,CACErQ,GAAI,SACJ6R,KAAM,cAACE,GAAA,EAAD,CAAgB3O,MAAO,CAAE6H,SAAU,MACzClH,MAAO,2BACPiO,UAAW,cAAC,GAAD,KAEb,CACEhS,GAAI,UACJ6R,KAAM,cAACI,GAAA,EAAD,CAAiB7O,MAAO,CAAE6H,SAAU,MAC1ClH,MAAO,2BACPiO,UAAW,cAAC,GAAD,KAEb,CACEhS,GAAI,YACJ6R,KAAM,cAACK,GAAA,EAAD,CAAkB9O,MAAO,CAAE6H,SAAU,MAC3ClH,MAAO,eACPiO,UAAW,cAAC,GAAD,CAAWP,KAAM,cAAC,IAAD,UDrB7B,IAEH,EAA8BtI,mBAASwI,EAAM,GAAG3R,IAAhD,mBAAOmS,EAAP,KAAgBC,EAAhB,KAEA,OACE,cAACN,GAAD,CAAOzS,MAAO,IAAKgT,MAAM,QAAzB,SACE,sBAAKnI,UAAWnL,KAAOuT,OAAvB,UACE,cAACC,GAAD,CAAe5H,SAAU,SAAAiH,GAAI,OAAIQ,EAAWR,IAAOD,MAAOA,IAC1D,qBAAKzH,UAAWnL,KAAOwL,KAAvB,SACGoH,EAAM5P,KAAI,YAA+B,IAA5BiQ,EAA2B,EAA3BA,UAAWhS,EAAgB,EAAhBA,GAAI+D,EAAY,EAAZA,MACrByO,EAASL,IAAYnS,EAC3B,OACE,sBAEEkK,UAAWnL,KAAO0T,KAClBrP,MAAO,CAAEsP,QAASF,EAAS,OAAS,QAHtC,UAKE,oBAAItI,UAAWnL,KAAOgF,MAAtB,SAA8BA,IAC9B,qBAAKmG,UAAWnL,KAAOiT,UAAvB,SAAmCA,MAL9BhS,c,+BE2BN2S,GA9C8B,SAAC,GAAc,IAAD,IAAXzQ,EAAW,EAAXA,KACxC0Q,GACA,OAAJ1Q,QAAI,IAAJA,GAAA,UAAAA,EAAMP,YAAY,UAAlB,mBAAsB5C,cAAtB,eACIgD,KAAI,YAAqB,IAAlB/C,EAAiB,EAAjBA,IAAKC,EAAY,EAAZA,MACZ,MAAM,GAAN,OAAUD,EAAV,aAAkBC,EAAlB,UAED0E,KAAK,MAAO,GAEjB,EAAsBwF,mBAASyJ,GAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KAEAzJ,qBAAU,WACRyJ,EAAOF,KACN,CAACA,IAmBJ,OACE,8BACE,cAAC,KAAMG,SAAP,CACE7I,UAAWnL,KAAOiU,MAClB/T,MAAO4T,EACPI,KAAM,GACNtI,SAAU,SAAA5C,GACR+K,EAAO/K,EAAEvG,OAAOvC,QAElBiU,OAAQ,kBA1BG,WACf,GAAIL,IAAQD,EAAW,CACrB,IAAM7T,EAAS8T,EACZnG,QAAQ,MAAO,IACfyG,MAAM,KACNpR,KAAI,SAAAqB,GACH,MAAqBA,EAAM+P,MAAM,KAAKpR,KAAI,SAAA/C,GAAG,OAAIA,EAAIoU,UAArD,mBACA,MAAO,CACLpU,IAFF,KAGEC,MAHF,SAMD+C,QAAO,gBAAGhD,EAAH,EAAGA,IAAKC,EAAR,EAAQA,MAAR,OAAoBD,GAAOC,KACrCiD,EAAK+E,UAAUlI,IAaCsU,S,mBCxCdjR,GAAW6J,KAAX7J,OAEFkR,GAAM,QA+DGC,GA9DmB,SAAC,GAA8B,IAAD,IAA3BnQ,aAA2B,MAAnB,GAAmB,EAAfuH,EAAe,EAAfA,SAC/C,EAA4BxB,mBAAS,MAArC,mBAAOqK,EAAP,KAAeC,EAAf,KACA,EAA0BtK,mBAAS,IAAnC,mBAAOlK,EAAP,KAAcyU,EAAd,KACMC,EAAYxD,mBAEZ9Q,EAAQ+D,EAAMpB,QAAO,SAAA6Q,GAAG,OAAIA,EAAI7T,MAAQsU,MAAK,GAEnDjK,qBAAU,WACR,OACO,OAALhK,QAAK,IAALA,OAAA,EAAAA,EAAOJ,MAAMmU,OAAOQ,MAAM,4BAA6B,GADzD,mBAASC,EAAT,KAAgBC,EAAhB,KAEAL,EAAUK,GAAQ,MAClBJ,EAASG,GAAS,IAClBF,EAAUzS,QAAV,gBACG4S,EAAOD,KAGT,CAACzQ,IAcJ,OACE,8BACE,cAAC,KAAD,CACE2Q,WACE,eAAC,KAAD,CACE5H,aAAa,KACblN,MAAOuU,EACP7I,SAAU,SAAAmJ,GAAS,IAAD,EAChBL,EAAUK,GACVJ,EACE,CAAC,MAAO,SAAU,MAAM5I,SAASgJ,GAC7B,4BACA,UAAAH,EAAUzS,eAAV,eAAoB4S,KAAS,KARvC,UAYE,cAAC,GAAD,CAAQ7U,MAAM,KAAd,gBACA,cAAC,GAAD,CAAQA,MAAM,MAAd,iBACA,cAAC,GAAD,CAAQA,MAAM,KAAd,gBACA,cAAC,GAAD,CAAQA,MAAM,IAAd,eACA,cAAC,GAAD,CAAQA,MAAM,SAAd,mCAGJuN,SAAU,CAAC,MAAO,SAAU,MAAM1B,SAAS0I,GAC3CN,OAAQ,WAnCR7T,EAAMJ,QAAN,UAAmBA,GAAnB,OAA2BuU,KACrB,OAAR7I,QAAQ,IAARA,KAAQ,sBACHvH,EAAMpB,QAAO,SAAA6Q,GAAG,OAAIA,EAAI7T,MAAQsU,OAD7B,CAEN,CACEtU,IAAKsU,GACLrU,MAAM,GAAD,OAAKA,GAAL,OAAauU,SA+BpBvU,MAAOA,EACP0L,SAAU,SAAA5C,GAAC,OAAI2L,EAAS3L,EAAEvG,OAAOvC,aCzDnC0T,GAAM,CACV,CACE5O,MAAO,eACP/E,IAAK,QACLgT,UAAW,SAACxD,GAAD,OAAqB,cAAC,GAAD,eAAWA,OCLvCwF,GAAUC,KAAVD,MAkCOE,GAhCyC,SAAC,GAAc,IAAZhS,EAAW,EAAXA,KACzD,EAA0BiH,mBAAS,IAAnC,mBAAOlK,EAAP,KAAcyU,EAAd,KAEM/I,EAAW,SAAC5L,GAChBmD,EAAK+E,UAAUlI,IAGjB,OACE,gCACE,cAAC,KAAD,CACEoV,YAAY,+BACZxJ,SAAU,SAAA5C,GAAC,OAAI2L,EAAS3L,EAAEvG,OAAOvC,QACjCmE,MAAO,CAAE+K,aAAc,MAEzB,cAAC,KAAD,CAAUiG,iBAAkB,CAACzB,GAAI,GAAG3T,KAAM2L,SAAU,aAApD,SACGgI,GAAI3Q,QACH,gBAAGhD,EAAH,EAAGA,IAAH,OAAcC,GAAS,IAAIoV,OAAOpS,IAAEqS,aAAarV,GAAQ,MAAMwS,KAAKzS,MACpE+C,KAAI,YAAgC,IAAD,EAA5B/C,EAA4B,EAA5BA,IAAK+E,EAAuB,EAAvBA,MAAOiO,EAAgB,EAAhBA,UACnB,OACE,cAACgC,GAAD,CAAOnF,OAAQ9K,EAAf,SACGiO,EAAU,CACT5O,MAAK,OAAElB,QAAF,IAAEA,GAAF,UAAEA,EAAMP,YAAY,UAApB,aAAE,EAAsB5C,OAC7B4L,cAHuB3L,YCrB/BuV,GAAYC,KAAZD,QA0BOE,GAxBc,WAC3B,IAEMvS,EAFmByN,qBAAW5G,GAA5BxB,aAEkBO,iBAEpB0K,KAAU,OAACtQ,QAAD,IAACA,OAAD,EAACA,EAAMP,YAAYtB,QAEnC,OACE,qBACE6J,UAAWnL,KAAO2V,OAClBtR,MAAO,CAAEsP,QAAQ,GAAD,OAAKF,EAAS,OAAS,SAFzC,SAIE,eAAC,KAAD,CAAM4B,iBAAiB,IAAIhR,MAAO,CAAE/D,MAAO,QAA3C,UACE,cAACkV,GAAD,CAASI,IAAI,eAAb,SACE,cAACC,GAAD,CAAO1S,KAAMA,KADO,SAGtB,cAACqS,GAAD,CAASI,IAAI,MAAb,SACE,cAAC,GAAD,CAAKzS,KAAMA,KADU,aCHhB2S,OAff,WACE,OACE,cAAC,EAAD,UACE,eAAC,IAAD,CAAQzR,MAAO,CAAEhE,OAAQ,SAAzB,UACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,aCDK0V,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBzM,MAAK,YAAkD,IAA/C0M,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,cCFdrG,IAASC,OACP,cAAC,IAAM2G,WAAP,UACE,cAAC,GAAD,MAEFxS,SAASyS,eAAe,SAM1BT,M,mBChBAnW,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,YAAc,6BAA6B,MAAQ,uBAAuB,KAAO,sBAAsB,MAAQ,uBAAuB,IAAM,qBAAqB,IAAM,qBAAqB,UAAY,2BAA2B,KAAO,sBAAsB,YAAc,6BAA6B,QAAU,yBAAyB,KAAO,sBAAsB,IAAM,uB,mBCAvcD,EAAOC,QAAU,CAAC,OAAS,sBAAsB,KAAO,oBAAoB,KAAO,oBAAoB,MAAQ,qBAAqB,UAAY,yBAAyB,KAAO,sB,mBCAhLD,EAAOC,QAAU,CAAC,UAAY,wBAAwB,OAAS,qBAAqB,KAAO,sB","file":"static/js/main.9c2b2c2b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Drawer_drawer__3rWUi\",\"input\":\"Drawer_input__1lviU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"History_container__36sYF\",\"history\":\"History_history__2s0vS\",\"futureHistory\":\"History_futureHistory__2IKGd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputNumbers\":\"Header_inputNumbers__2tKEr\",\"close\":\"Header_close__3--jI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Layout_container__2vp30\",\"layoutWarper\":\"Layout_layoutWarper__tUQLq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1foMC\"};","import { AST } from 'src/model';\n\nconst phone: AST = {\n  type: 'div',\n  styles: [\n    {\n      key: 'height',\n      value: '854px',\n    },\n    {\n      key: 'width',\n      value: '480px',\n    },\n  ],\n  children: [],\n};\n\nconst models = [\n  {\n    height: '926',\n    width: '428',\n    key: 'iPhone 12 Pro Max',\n  },\n  {\n    height: '844',\n    width: '390',\n    key: 'iPhone 12 Pro',\n  },\n  {\n    height: '896',\n    width: '414',\n    key: 'iPhone 11',\n  },\n  {\n    height: '640',\n    width: '360',\n    key: 'Nexus 5',\n  },\n  {\n    height: '800',\n    width: '360',\n    key: 'Samsung Galaxy A70',\n  },\n  {\n    height: '780',\n    width: '360',\n    key: 'Oppo Find X',\n  },\n  {\n    height: '1366',\n    width: '1024',\n    key: 'iPadOS',\n  },\n  {\n    height: '1024',\n    width: '768',\n    key: '小米平板',\n  },\n  {\n    height: '800',\n    width: '1280',\n    key: 'MacBook',\n  },\n];\n\nexport { phone, models };\n","import _ from 'lodash';\n\nconst isObject = (target: unknown) => {\n  return Object.prototype.toString.call(target) === '[object Object]';\n};\n\nconst cloneDeep = <T extends object>(object: T): T => _.cloneDeep(object);\n\nconst getDoubleTime = (time: number) => {\n  return time > 9 ? time : `0${time}`;\n};\n\nexport { isObject, cloneDeep, getDoubleTime };\n","import { PageService } from 'src/controller';\n\nexport default class Pages {\n  protected pages: { [key: string]: PageService } = {};\n  public idx: number = 1;\n  public currentId?: string;\n}\n","import { HistorySet } from 'src/model';\nimport History from 'src/model/history';\n\nclass HistoryService extends History {\n  keep = (rest: Omit<HistorySet, 'id' | 'time'>) => {\n    const history = {\n      id: new Date().getMilliseconds(),\n      time: new Date(),\n      ...rest,\n    };\n    // return some history\n    if (\n      history?.node.toString() ===\n      this.history[this.history.length - 1]?.node.toString()\n    ) {\n      return;\n    }\n    this.history.push(history);\n    // clear future history\n    this.future = [];\n  };\n\n  return = (_id: number) => {\n    const index = this.history.findIndex(({ id }) => id === _id);\n    if (index !== -1) {\n      this.future.push(...this.history.slice(index));\n      this.history = this.history.slice(0, index);\n    }\n  };\n\n  recovery = (_id: number) => {\n    const index = this.future.findIndex(({ id }) => id === _id);\n    if (index !== -1) {\n      this.history.push(...this.future.slice(index));\n      this.future = this.future.slice(0, index);\n    }\n  };\n\n  backOff = (step: number = 1) => {\n    while (step > 0) {\n      const history = this.history.pop();\n      if (history) {\n        this.future.push(history);\n      }\n      step--;\n    }\n  };\n\n  forward = (step: number = 1) => {\n    while (step > 0) {\n      const history = this.future.pop();\n      if (history) {\n        this.history.push(history);\n      }\n      step--;\n    }\n  };\n\n  current = (): HistorySet => {\n    return this.history[this.history.length - 1];\n  };\n}\n\nexport default HistoryService;\n","import { HistorySet } from '.';\n\nconst MAX_HISTORY = 100;\n\nclass History {\n  private _history: HistorySet[] = [];\n  private _future: HistorySet[] = [];\n  set history(history: HistorySet[]) {\n    this._history = history;\n    while (this.history.length > MAX_HISTORY) {\n      this._history.shift();\n    }\n  }\n  get history() {\n    return this._history;\n  }\n  set future(future: HistorySet[]) {\n    this._future = future;\n    while (this._future.length > MAX_HISTORY) {\n      this._future.shift();\n    }\n  }\n  get future() {\n    return this._future;\n  }\n}\n\nexport default History;\n","import { NodeService } from 'src/controller';\nimport HistoryService from 'src/controller/service/history';\nimport { AST } from '.';\n\nexport default class Page {\n  public id: string;\n  public name: string;\n  public _page!: NodeService;\n  public currentNode: NodeService[] = [];\n  public history: HistoryService = new HistoryService();\n  protected target: AST;\n  constructor(id: string, target: AST) {\n    this.name = this.id = id;\n    this.target = target;\n  }\n  setPage(target: NodeService) {\n    this._page = target;\n  }\n  set page(page: NodeService) {\n    this._page = page;\n    this.clearDeleteNode(this._page);\n  }\n  get page() {\n    this.clearDeleteNode(this._page);\n    return this._page;\n  }\n\n  clearDeleteNode = (node: NodeService): NodeService | null => {\n    if (node.isDelete) {\n      if (node.isRoot) {\n        node.children = [];\n      }\n      return null;\n    } else {\n      node.children = node.children\n        .map(node => this.clearDeleteNode(node))\n        .filter(_ => _) as NodeService[];\n      return node;\n    }\n  };\n}\n","import _ from 'lodash';\nimport { NodeService } from 'src/controller';\nimport { Style } from '.';\n\nexport type NodeOption = Omit<Node, 'isDelete' | 'isSelect'>;\n\nclass Node {\n  public type: string;\n  private _styles: Style[];\n  public children: NodeService[];\n  public element?: HTMLElement;\n  public isDelete: boolean = false;\n  public isSelect: boolean = false;\n  public isRoot?: boolean = false;\n  public id?: number;\n  private static random = 1;\n  constructor(Option: NodeOption) {\n    const { type, styles, children, element, isRoot = false } = Option;\n    this.type = type;\n    this._styles = styles;\n    this.children = children;\n    this.element = element;\n    this.isRoot = isRoot;\n    this.id = Node.Random();\n  }\n  static Random() {\n    return Node.random++;\n  }\n  set styles(styles: Style[]) {\n    this._styles = styles;\n  }\n  get styles() {\n    this._styles = _.uniqBy(this._styles, 'key');\n    return this._styles;\n  }\n}\n\nexport default Node;\n","import { NodeService } from '..';\n\nclass Doc {\n  create = (node: NodeService): HTMLElement => {\n    const { type, children } = node;\n    const ele = document.createElement(type);\n    node.innerHTML(ele);\n    this.renderStyles(ele, node);\n    children?.forEach(page => ele.appendChild(this.create(page)));\n    return ele;\n  };\n\n  renderStyles = (ele: HTMLElement, node: NodeService) => {\n    const { styles, isSelect } = node;\n    if (styles?.length) {\n      ele.style.cssText = (node.pageService?.options.previewStyle || [])\n        .concat(isSelect ? node.pageService?.options.selectStyle || [] : [])\n        .concat(styles)\n        .map(({ key, value }) => `${key}: ${value}`)\n        .join(';');\n    }\n  };\n}\n\nexport default Doc;\n","const DragEleId = 'application/layout';\n\nconst SelectStyle = [\n  {\n    key: 'border',\n    value: '1px solid #1890ff',\n  },\n];\n\nconst PreviewStyle = [\n  {\n    key: 'border',\n    value: '1px dashed #000000',\n    title: '虚线边框',\n  },\n  {\n    key: 'padding',\n    value: '5px',\n    title: '外边距',\n  },\n  {\n    key: 'background',\n    value: 'white',\n    title: '白色背景',\n  },\n];\nexport { DragEleId, SelectStyle, PreviewStyle };\n","import { DragEleId } from 'src/const';\nimport { NodeService } from '..';\n\nclass DocEvent {\n  private static dragData: { [props: string]: NodeService } = {};\n  bindContainerEvent = (node: NodeService) => {\n    if (node.element) {\n      node.element.ondrop = (ev: DragEvent) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const id = ev.dataTransfer?.getData(DragEleId);\n        if (id) {\n          const nodeService: NodeService = Reflect.get(DocEvent.dragData, id);\n          if (nodeService) {\n            Reflect.deleteProperty(DocEvent.dragData, id);\n            // up merge\n            node.styles.push(...nodeService.styles);\n            node.children.push(...nodeService.children);\n          }\n          node.pageService?.update({ description: '添加元素' });\n        }\n      };\n      node.element.ondragover = (ev: DragEvent) => {\n        ev.preventDefault();\n        if (ev.dataTransfer?.dropEffect) {\n          ev.dataTransfer.dropEffect = 'move';\n        }\n      };\n      node.element.onclick = (ev: MouseEvent) => {\n        ev.stopPropagation();\n        node.pageService?.setCurrentNode([node]);\n      };\n    }\n    node.children.forEach(childrenNode => this.bindContainerEvent(childrenNode));\n  };\n\n  bindLayoutEvent = (node: NodeService) => {\n    if (node.element) {\n      const id = `drag${Math.random()}`;\n      node.element.id = id;\n      node.element.draggable = true;\n      node.element.ondragstart = (ev: DragEvent) => {\n        // fix self drag\n        Reflect.set(DocEvent.dragData, id, node.copy());\n        ev.dataTransfer?.setData(DragEleId, id);\n        if (ev.dataTransfer?.dropEffect) {\n          ev.dataTransfer.dropEffect = 'move';\n        }\n      };\n    }\n  };\n}\n\nexport default DocEvent;\n","import { isObject } from 'src/util';\nimport { Page, AST, Style } from 'src/model';\nimport { DocEvent, Doc } from '../browser';\nimport { NodeService } from '..';\nimport { Options } from '../const';\n\nexport interface Update {\n  // eslint-disable-next-line\n  ({}: { description?: string; isKeepHistory?: boolean }): void;\n}\n\nexport default class PageService extends Page {\n  public update: Update;\n  public Doc: Doc;\n  public DocEvent: DocEvent;\n  public options: Options;\n  public updateSign: boolean = false;\n  constructor(options: Options) {\n    super(options.id, options.page);\n    this.options = options;\n    this.id = options.id;\n    this.name = options.name;\n    this.update = this.bindUpdate(options.update);\n    this.Doc = new Doc();\n    this.DocEvent = new DocEvent();\n\n    this.setPage(this.createNode(options.page, true));\n  }\n\n  setOptions(options: Partial<Options>) {\n    this.options = {\n      ...this.options,\n      ...options,\n    };\n    this.update({ isKeepHistory: false });\n  }\n\n  createNode = (target: AST, isRoot?: boolean): NodeService => {\n    return new NodeService(\n      {\n        ...target,\n        isRoot,\n        children: target.children.map(node => this.createNode(node)),\n      },\n      this,\n    );\n  };\n\n  bindUpdate = (update: () => void): Update => {\n    return ({ description, isKeepHistory = true }) => {\n      if (isKeepHistory) {\n        this.history.keep({\n          node: this.page.copy(),\n          description,\n        });\n      }\n      this.updateSign = !this.updateSign;\n      update();\n    };\n  };\n\n  setCurrentNode = (nodes: NodeService[]) => {\n    this.page.clearEffect();\n\n    this.currentNode = nodes.map(node => {\n      node.isSelect = true;\n      return node;\n    });\n\n    this.update({ isKeepHistory: false });\n  };\n\n  proxy = (targe: AST): AST => {\n    const getHandler = <T extends object>() => {\n      return {\n        get(target: T, propertyKey: string | symbol, receiver: ProxyConstructor) {\n          const targetValue = Reflect.get(target, propertyKey, receiver);\n          if (Array.isArray(targetValue) || isObject(targetValue)) {\n            return setProxy<object>(targetValue);\n          }\n          return targetValue;\n        },\n        set<U>(\n          target: T,\n          propertyKey: string,\n          value: U,\n          receiver: ProxyConstructor,\n        ) {\n          return Reflect.set(target, propertyKey, value, receiver);\n        },\n      };\n    };\n\n    const setProxy = <T extends object>(targe: T): T => {\n      return new Proxy(targe, getHandler());\n    };\n\n    return setProxy<AST>(targe);\n  };\n\n  setStyles = (styles: Style[]) => {\n    this.currentNode.map(node => node.setStyles(styles));\n    this.update({ description: '更新样式' });\n  };\n\n  createView = () => {\n    const view = this.Doc.create(this.page);\n    this.DocEvent.bindContainerEvent(this.page);\n\n    return view;\n  };\n\n  toString() {\n    return this.page.toString();\n  }\n\n  backOffHistory() {\n    this.history.backOff();\n    const history = this.history.current();\n    if (history) {\n      history.node.clearEffect();\n      this.page = history.node.copy();\n    } else {\n      // backOff first history\n      this.page = this.createNode(this.target, true);\n    }\n    this.update({ isKeepHistory: false });\n  }\n\n  forwardHistory() {\n    this.history.forward();\n    this.setHistoryPage();\n    this.update({ isKeepHistory: false });\n  }\n\n  returnHistory(_id: number) {\n    this.history.return(_id);\n    const history = this.history.current();\n    if (history) {\n      history.node.clearEffect();\n      this.page = history.node.copy();\n    } else {\n      // backOff first history\n      this.page = this.createNode(this.target, true);\n    }\n    this.update({ isKeepHistory: false });\n  }\n\n  recoveryHistory(_id: number) {\n    this.history.recovery(_id);\n    this.setHistoryPage();\n    this.update({ isKeepHistory: false });\n  }\n\n  setHistoryPage = () => {\n    const history = this.history.current();\n    if (history) {\n      history.node.clearEffect();\n      this.page = history.node.copy();\n    }\n  };\n}\n","import keyboard from 'keyboardjs';\nimport { NodeService, PagesService } from '.';\n\nexport default class Keyboard {\n  private copyNode: NodeService[] = [];\n  constructor(public pagesService: PagesService) {\n    this.bindKeyboardEvent();\n  }\n  bindKeyboardEvent = () => {\n    keyboard.bind('ctrl + c', () => {\n      console.log('Copy');\n      this.copyNode = this.pagesService.getCurrentPage().currentNode;\n    });\n    keyboard.bind('ctrl + v', () => {\n      console.log('Paste');\n      this.pagesService.getCurrentPage().currentNode.forEach(node => {\n        node.children.push(...this.copyNode.map(node => node.copy()));\n      });\n      this.pagesService.getCurrentPage().update({ description: '复制元素' });\n    });\n    keyboard.bind('ctrl + backspace', e => {\n      console.log(e);\n      console.log('Delete');\n      const currentNode = this.pagesService.getCurrentPage().currentNode;\n      if (currentNode.some(({ isRoot }) => isRoot)) {\n        return;\n      }\n      currentNode.forEach(node => {\n        node.isDelete = true;\n      });\n      this.pagesService.getCurrentPage().update({ description: '删除元素' });\n    });\n    keyboard.bind('ctrl + z', () => {\n      console.log('BackOff');\n      this.pagesService.getCurrentPage().backOffHistory();\n    });\n    keyboard.bind('ctrl + y', () => {\n      console.log('Forward');\n      this.pagesService.getCurrentPage().forwardHistory();\n    });\n  };\n}\n","import { Pages } from 'src/model';\nimport PageService from './page';\nimport Keyboard from '../keyboard-event';\nimport { Options } from '../const';\n\nexport default class PagesService extends Pages {\n  constructor() {\n    super();\n    new Keyboard(this);\n  }\n  public updateView: () => void = () => {};\n  init(setRefresh: () => void) {\n    this.updateView = setRefresh;\n  }\n  getPages() {\n    return this.pages;\n  }\n  setPages(id: string) {\n    this.currentId = id;\n    this.update();\n  }\n  cerate(\n    options: Partial<Omit<Options, 'id' | 'update' | 'page'>> &\n      Omit<Options, 'id' | 'update' | 'name'>,\n  ) {\n    const id = `Page${this.idx}`;\n    Reflect.set(\n      this.pages,\n      id,\n      new PageService({\n        id,\n        update: this.update,\n        name: options.name || id,\n        selectStyle: options.selectStyle || [],\n        page: options.page,\n        previewStyle: options.previewStyle || [],\n      }),\n    );\n    this.currentId = id;\n    this.idx++;\n    this.update();\n  }\n  delete(id: string) {\n    // delete page === current page\n    if (id === this.currentId) {\n      const pagesKey = Object.keys(this.pages);\n      const currentPageIndex = pagesKey.findIndex(key => key === id);\n      if (currentPageIndex !== -1) {\n        this.currentId =\n          pagesKey[\n            currentPageIndex > 0 ? currentPageIndex - 1 : currentPageIndex + 1\n          ];\n      }\n    }\n    Reflect.deleteProperty(this.pages, id);\n    this.update();\n  }\n  update = () => {\n    Promise.resolve().then(() => this.updateView());\n  };\n  getCurrentPage = (): PageService => {\n    return Object.values(this.pages).filter(({ id }) => id === this.currentId)[0];\n  };\n}\n","import { AST, Node, Style } from 'src/model';\nimport { NodeOption } from 'src/model/node';\nimport { PageService } from '..';\n\nexport default class NodeService extends Node {\n  constructor(Options: NodeOption, public pageService?: PageService) {\n    super(Options);\n  }\n\n  copy = (node?: NodeService): NodeService => {\n    const { type, styles, children, element, isRoot } = node || this;\n    return new NodeService(\n      {\n        type,\n        styles,\n        element,\n        isRoot,\n        children: children?.map(children => children.copy()) || [],\n      },\n      this.pageService,\n    );\n  };\n\n  setStyles = (styles: Style[]) => {\n    this.styles = styles;\n  };\n\n  innerHTML = (ele: HTMLElement) => {\n    this.element = ele;\n  };\n\n  clearEffect = () => {\n    this.isSelect = false;\n    this.children.forEach(node => node.clearEffect());\n  };\n\n  toString = (): string => {\n    const { id, children } = this;\n    // why isSelect (toString can`t change component no`t update)\n    return `${id}:${children.map(node => node.toString())}`;\n  };\n\n  static createNodeService = (target: AST): NodeService => {\n    return new NodeService({\n      ...target,\n      children: target.children.map(node => NodeService.createNodeService(node)),\n    });\n  };\n}\n","import { useEffect } from 'react';\nimport { phone } from 'src/const/container';\nimport { createContext, useState } from 'react';\nimport { cloneDeep } from 'src/util';\nimport { PagesService } from 'src/controller';\nimport { PreviewStyle, SelectStyle } from 'src/const';\n\nconst pagesService = new PagesService();\nexport const PagesContext = createContext<{\n  pagesService: PagesService;\n  refresh: boolean;\n}>({\n  pagesService,\n  refresh: false,\n});\n\nexport const PagesProvider: React.FC<{}> = ({ children }) => {\n  const [refresh, setRefresh] = useState<boolean>(false);\n\n  pagesService.init(() => {\n    setRefresh(!refresh);\n  });\n\n  useEffect(() => {\n    pagesService.cerate({\n      page: cloneDeep(phone),\n      selectStyle: SelectStyle,\n      previewStyle: PreviewStyle,\n    });\n  }, []);\n\n  return (\n    <PagesContext.Provider value={{ pagesService, refresh }}>\n      {children}\n    </PagesContext.Provider>\n  );\n};\n","import { useCallback } from 'react';\nimport { PageService } from 'src/controller';\nimport { Options } from '..';\nimport styles from './index.module.scss';\n\nconst Container: React.FC<{ page: PageService; options: Options }> = ({\n  page,\n  options,\n}) => {\n  const updateSign = page.updateSign;\n\n  const renderView = useCallback(\n    (ele: HTMLDivElement) => {\n      if (ele) {\n        if (ele.firstChild) {\n          ele.removeChild(ele.firstChild);\n        }\n        ele.appendChild(page.createView());\n      }\n    },\n    // eslint-disable-next-line\n    [updateSign, page.page, page.currentNode],\n  );\n\n  const canvasSize = {\n    transform: `scale(${options.zoom},${options.zoom})`,\n  };\n\n  return (\n    <div className={styles.container} style={canvasSize}>\n      <div className={styles.canvas} ref={renderView} />\n    </div>\n  );\n};\n\nexport default Container;\n","import { PagesService } from 'src/controller';\nimport styles from './index.module.scss';\nimport Container from './container';\nimport { Options } from '..';\n\nconst Body: React.FC<{ pagesService: PagesService; options: Options }> = ({\n  pagesService,\n  options,\n}) => {\n  const page = pagesService.getCurrentPage();\n\n  return (\n    <div className={styles.body}>\n      {page && <Container page={page} options={options} />}\n    </div>\n  );\n};\n\nexport default Body;\n","import { EyeOutlined } from '@ant-design/icons';\nimport { Checkbox, Popover, Row } from 'antd';\nimport { CheckboxValueType } from 'antd/lib/checkbox/Group';\nimport { PreviewStyle } from 'src/const';\nimport { PagesService } from 'src/controller';\n\nconst Preview: React.FC<{ pagesService: PagesService }> = ({ pagesService }) => {\n  const page = pagesService.getCurrentPage();\n  const options = page?.options;\n\n  return (\n    <Popover\n      content={\n        <Checkbox.Group\n          value={options?.previewStyle.map(({ key }) => key)}\n          style={{ width: '100%' }}\n          onChange={(checkedValue: CheckboxValueType[]) => {\n            page.setOptions({\n              previewStyle: PreviewStyle.filter(({ key }) =>\n                checkedValue.includes(key),\n              ),\n            });\n          }}\n        >\n          {PreviewStyle.map(style => {\n            return (\n              <Row key={style.key}>\n                <Checkbox value={style.key}>{style?.title}</Checkbox>\n              </Row>\n            );\n          })}\n        </Checkbox.Group>\n      }\n      title=\"预览样式设置\"\n      placement=\"bottom\"\n    >\n      <EyeOutlined style={{ fontSize: 20 }} />\n    </Popover>\n  );\n};\n\nexport default Preview;\n","import revoke from 'src/static/img/revoke.png';\nimport forward from 'src/static/img/forward.png';\nimport styles from '../index.module.scss';\nimport { CodeOutlined, ZoomInOutlined, ZoomOutOutlined } from '@ant-design/icons';\nimport { InputNumber, Tooltip } from 'antd';\nimport { Options } from 'src/pages/App/components/Content/index';\nimport { PagesService } from 'src/controller';\nimport Preview from './component/preview';\n\nconst Max_Zoom = 3;\nconst Min_Zoom = 1;\n\nconst Operation: React.FC<{\n  options: Options;\n  setOptions: (options: Options) => void;\n  pagesService: PagesService;\n}> = ({ options, setOptions, pagesService }) => {\n  return (\n    <div className={styles.operation}>\n      <div className={styles.code}>\n        <Tooltip placement=\"top\" title=\"代码\">\n          <CodeOutlined style={{ fontSize: 20 }} />\n        </Tooltip>\n      </div>\n      <div className={styles.eye}>\n        <Preview pagesService={pagesService} />\n      </div>\n\n      <div className={styles.zoom}>\n        <div>\n          <Tooltip placement=\"top\" title=\"缩小\">\n            <ZoomOutOutlined\n              style={{\n                fontSize: 20,\n                color: `${options.zoom === Min_Zoom ? '#bfbfbf' : ''} `,\n                cursor: `${options.zoom === Min_Zoom ? 'not-allowed' : 'pointer'}`,\n              }}\n              onClick={() => {\n                if (options.zoom <= Min_Zoom) return;\n                setOptions({\n                  ...options,\n                  zoom: options.zoom - 0.5,\n                });\n              }}\n            />\n          </Tooltip>\n        </div>\n        <InputNumber\n          min={1}\n          max={3}\n          value={options.zoom}\n          step={0.5}\n          onChange={value => {\n            debugger;\n            setOptions({\n              ...options,\n              zoom: value,\n            });\n          }}\n          className={styles.inputNumber}\n        />\n        <div>\n          <Tooltip placement=\"top\" title=\"放大\">\n            <ZoomInOutlined\n              style={{\n                fontSize: 20,\n                color: `${options.zoom === Max_Zoom ? '#bfbfbf' : ''} `,\n                cursor: `${options.zoom === Max_Zoom ? 'not-allowed' : 'pointer'}`,\n              }}\n              onClick={() => {\n                if (options.zoom >= Max_Zoom) return;\n                setOptions({\n                  ...options,\n                  zoom: options.zoom + 0.5,\n                });\n              }}\n            />\n          </Tooltip>\n        </div>\n      </div>\n      <div className={styles.history}>\n        <div\n          onClick={() => {\n            pagesService.getCurrentPage().backOffHistory();\n          }}\n        >\n          <Tooltip placement=\"top\" title=\"后退\">\n            <img src={revoke} alt=\"\" />\n          </Tooltip>\n        </div>\n        <div\n          onClick={() => {\n            pagesService.getCurrentPage().forwardHistory();\n          }}\n        >\n          <Tooltip placement=\"top\" title=\"前进\">\n            <img src={forward} alt=\"\" />\n          </Tooltip>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Operation;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAahJREFUWEftlr8rhVEYxz93YZbFVZKVUYQMyMCiDIokWZCFxWYgWSykpGxK8qMsN8lmkYEyizLKP2Aw6dF5dd7T8Z7znqv3LPfUXU7f53k+9znn+Z63RORVilyfGkBoBwaA2/84vhCAOeAtFsAysAsMxgBYAzZV2wsH2AZWtTMvFOAAWDQuXGEAx8C05bZXgHf1ewEegeeQqfhrCuqBc2AsR9I74Ay4Bl5942wAjar4kG8Si24LkEvrXCZAqyre7Yx0Cx4AZx4doF0V73Dn9lZ8AE1ZarMDzcAF0Oddwi3cA8TArMt2B2TvChh15/ZWbADrNnXWW3ACTHmXyBZ+Av3AkylzPUY2E5IcYkT6ktexF+gEZIps69T2h1wAkkj83xypLCcUkElgBmgwSEaAG33PB0D0S8C+FuhjxS0KfF6Lk2NNOasvgOQYBy5VMh+ApO4KsKNBdCnr/tnKAyD6HuA+4HtgQnmM5FgADhOgvAASJ27ZFvBBkkCkfCEEQCDqgK+AERUvkHEcrqYDAXVTIfKMl2MCzAJHMQFS7Qi9A9Uew298DSB6B74BA988IbCHLaQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAllJREFUWEft1kuoT1EUx/HPjWJihCIpYmJAKZJnkiJFUoiZSBLyCnnkFSKSR0lJichjgoGURx4lJRIDQogi5VUmBh4t7VN/t/+555zrf1OyRqfO2uv33WuvtfZu8pet6S/r+2cApqZMnq6a0UZk4CI6YDhWYVcViEYA/ODXUfbDTezH+rIQjQQIzZ64hrNYUgai0QCh2QnXcReziyDaAiDTjEy8Q1agdVnaEiAEz6UCHZeXidYCDMAwDMTcVIR5GkfRFyPwrblTFYCxmIeJeI4reJUCbis462MJNiA+1vqWARiNpRiFAziMJ0XFVef/PkxOmXiZ/S8CiH5eg604iDetEK5dshmLEsSD+JEHEGd2CF+wBbf+ULh2+TLszLTrAXTBeVzG2gYK14b6hEF42hygfWqdF5jfRuK3cQEb6h3BDvTCtBzx7ohu6I+u6Jy+e5eEjY1FIW+vV4Sx+0jNpNRimU9HrMPINGYf4THe4wOixYqKOWKEeLTrnrw2XIzpGFrjEGM06uASduN1nZ1mt2FeEiI797AyddJvfrXkD1PFn0hXa9ztnxN1S+3XEkBMy6tpWh6pR5gBdMNb9EhnGucU/X+8xNnmAUzBGczAyaK7YAja4TviWTUBvwZFCasHMAd7k3i8DXIty0BUfTwmojWiCCNtZa05wAJsSuLxXGvRMoAVqTWi6CJtVawWYHl6Cc1ML6PCOBnAKdxBzIGqFgDjMRizEOIxbEpZBhCXzUZ8LbXqd6cxaWzfwELcrxKjFmB1lYWN8s0A+uBZo4JWiVM0QqvEapXvf4CfN0FuIW7I4AsAAAAASUVORK5CYII=\"","import { CloseOutlined } from '@ant-design/icons';\nimport { InputNumber, Select } from 'antd';\nimport { Canvas } from '../new-build';\nimport styles from '../index.module.scss';\nimport { models } from 'src/const/container';\n\nconst { Option } = Select;\n\ninterface SizeProps {\n  value?: Canvas;\n  onChange?: (value: Canvas) => void;\n}\n\nconst Size: React.FC<SizeProps> = ({ value, onChange }) => {\n  return (\n    <>\n      <Select\n        defaultValue={models[0].key}\n        onChange={key => {\n          const modal = models.find(modal => modal.key === key);\n          onChange?.({\n            key: modal?.key || 'custom',\n            width: modal?.width || value?.width || '0',\n            height: modal?.height || value?.height || '0',\n          });\n        }}\n      >\n        <>\n          <Option value=\"custom\">自定义</Option>\n          {models.map(({ key }) => {\n            return (\n              <Option value={key} key={key}>\n                {key}\n              </Option>\n            );\n          })}\n        </>\n      </Select>\n      <div className={styles.inputNumbers}>\n        <InputNumber\n          min={0}\n          value={value?.width ?? 0}\n          formatter={value => `${value}px`}\n          disabled={value?.key !== 'custom'}\n          parser={value => value?.replace('px', '') || ''}\n          onChange={width => {\n            if (width) {\n              onChange?.({\n                key: 'custom',\n                width: `${String(width)}`,\n                height: value?.height || '0',\n              });\n            }\n          }}\n        />\n        <span className={styles.close}>\n          <CloseOutlined />\n        </span>\n        <InputNumber\n          min={0}\n          value={value?.height ?? 0}\n          formatter={value => `${value}px`}\n          disabled={value?.key !== 'custom'}\n          parser={value => value?.replace('px', '') || ''}\n          onChange={height => {\n            if (height) {\n              onChange?.({\n                key: 'custom',\n                width: value?.width || '0',\n                height: `${String(height)}`,\n              });\n            }\n          }}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default Size;\n","import { Button, Form, Input, Modal } from 'antd';\nimport { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PreviewStyle, SelectStyle } from 'src/const';\nimport { models } from 'src/const/container';\nimport { PagesService } from 'src/controller';\nimport Size from './component/size';\n\nexport interface Values {\n  name: string;\n  canvas: {\n    height: string;\n    width: string;\n  };\n}\n\nexport interface Canvas {\n  height: string;\n  width: string;\n  key: string;\n}\n\nexport const CreateModal: React.FC<{ pagesService: PagesService }> = ({\n  pagesService,\n}) => {\n  const [visible, setVisible] = useState(true);\n\n  const checkCanvas = (_: any, value: Canvas) => {\n    if (value.height !== '0' && value.width !== '0') {\n      return Promise.resolve();\n    }\n    return Promise.reject(new Error('未设置画布大小'));\n  };\n\n  const createPage = (values: Values) => {\n    pagesService.cerate({\n      name: values.name,\n      page: {\n        type: 'div',\n        styles: [\n          {\n            key: 'height',\n            value: `${values.canvas.height}px`,\n          },\n          {\n            key: 'width',\n            value: `${values.canvas.width}px`,\n          },\n          {\n            key: 'background',\n            value: 'white',\n          },\n        ],\n        children: [],\n      },\n      selectStyle: SelectStyle,\n      previewStyle: PreviewStyle,\n    });\n    setVisible(false);\n  };\n\n  return (\n    <Modal\n      title=\"新建布局\"\n      visible={visible}\n      onOk={() => {}}\n      onCancel={() => setVisible(false)}\n      footer={null}\n    >\n      <Form\n        name=\"basic\"\n        labelCol={{ span: 0 }}\n        wrapperCol={{ span: 16 }}\n        initialValues={{\n          name: '',\n          canvas: models[0],\n        }}\n        onFinish={createPage}\n        onFinishFailed={() => {}}\n      >\n        <Form.Item\n          label=\"布局名称\"\n          name=\"name\"\n          rules={[{ required: true, message: '请输入布局名称' }]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item\n          label=\"画布大小\"\n          name=\"canvas\"\n          rules={[{ required: true, validator: checkCanvas }]}\n        >\n          <Size />\n        </Form.Item>\n\n        <Form.Item wrapperCol={{ offset: 8, span: 16 }} style={{ marginBottom: 0 }}>\n          <Button\n            htmlType=\"submit\"\n            style={{ marginRight: 10 }}\n            onClick={() => setVisible(false)}\n          >\n            取消\n          </Button>\n          <Button type=\"primary\" htmlType=\"submit\" style={{ marginLeft: 10 }}>\n            确认\n          </Button>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport const openNewBuildModal = (props: { pagesService: PagesService }) => {\n  return new Promise<boolean>(() => {\n    const el = document.createElement('div');\n    ReactDOM.render(<CreateModal {...props} />, el);\n  });\n};\n\nexport default openNewBuildModal;\n","import styles from '../index.module.scss';\nimport { Button, Popconfirm } from 'antd';\nimport { PagesService } from 'src/controller';\nimport Operation from './Operation';\nimport { CloseCircleOutlined } from '@ant-design/icons';\nimport { Options } from 'src/pages/App/components/Content/index';\nimport { openNewBuildModal } from './new-build';\n\nconst Header: React.FC<{\n  pagesService: PagesService;\n  options: Options;\n  setOptions: (options: Options) => void;\n}> = ({ pagesService, options, setOptions }) => {\n  return (\n    <div className={styles.header}>\n      <div className={styles.pagesWarper}>\n        <div className={styles.pages}>\n          {Object.values(pagesService.getPages()).map(({ name, id }) => {\n            const style = {\n              border: `1px solid ${\n                id === pagesService.currentId ? 'rgb(145, 213, 255)' : ''\n              }`,\n            };\n            return (\n              <div key={id} className={styles.page} style={style}>\n                <span onClick={() => pagesService.setPages(id)}>{name}</span>\n                <Popconfirm\n                  title=\"确定删除?\"\n                  onConfirm={() => pagesService.delete(id)}\n                  onCancel={() => {}}\n                  okText=\"是\"\n                  cancelText=\"否\"\n                >\n                  <div className={styles.close}>\n                    <CloseCircleOutlined />\n                  </div>\n                </Popconfirm>\n              </div>\n            );\n          })}\n        </div>\n        <div className={styles.new}>\n          <Button\n            onClick={() => {\n              openNewBuildModal({\n                pagesService,\n              });\n            }}\n          >\n            新建\n          </Button>\n        </div>\n      </div>\n      <div className={styles.opr}>\n        <Operation\n          options={options}\n          setOptions={setOptions}\n          pagesService={pagesService}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import { Layout } from 'antd';\nimport { useState } from 'react';\nimport { useContext } from 'react';\nimport { PagesContext } from 'src/context';\nimport Body from './Body';\nimport Header from './Header';\nimport styles from './index.module.scss';\n\nconst { Content } = Layout;\n\nexport interface Options {\n  zoom: number;\n}\n\n// eslint-disable-next-line\nexport default () => {\n  const { pagesService } = useContext(PagesContext);\n\n  const [options, setOptions] = useState<Options>({\n    zoom: 1,\n  });\n\n  return (\n    <Content className={styles.content}>\n      <Header\n        pagesService={pagesService}\n        options={options}\n        setOptions={setOptions}\n      />\n      <Body pagesService={pagesService} options={options} />\n    </Content>\n  );\n};\n","import { Layout } from 'antd';\nimport styles from './index.module.scss';\n\nconst { Header } = Layout;\n\n// eslint-disable-next-line\nexport default () => {\n  return <Header className={styles.header}></Header>;\n};\n","import { AST } from 'src/model';\n\nconst flexRow: AST = {\n  type: 'div',\n  styles: [\n    { key: 'display', value: 'flex' },\n    {\n      key: 'height',\n      value: '100%',\n    },\n    {\n      key: 'width',\n      value: '100%',\n    },\n  ],\n  children: new Array(3).fill(0).map(item => {\n    return {\n      type: 'div',\n      styles: [\n        {\n          key: 'display',\n          value: 'flex',\n        },\n        {\n          key: 'flex',\n          value: '1',\n        },\n      ],\n      children: [],\n      extraStyles: [\n        {\n          key: 'border',\n          value: '1px dashed #000000',\n        },\n        {\n          key: 'padding',\n          value: '5px',\n        },\n      ],\n    };\n  }),\n};\n\nconst flexColum: AST = {\n  type: 'div',\n  styles: [\n    { key: 'display', value: 'flex' },\n    { key: 'flex-direction', value: 'column' },\n    {\n      key: 'height',\n      value: '100%',\n    },\n    {\n      key: 'width',\n      value: '100%',\n    },\n  ],\n  children: new Array(3).fill(0).map(item => {\n    return {\n      type: 'div',\n      styles: [\n        {\n          key: 'display',\n          value: 'flex',\n        },\n        {\n          key: 'flex',\n          value: '1',\n        },\n      ],\n      children: [],\n      extraStyles: [\n        {\n          key: 'border',\n          value: '1px dashed #000000',\n        },\n        {\n          key: 'padding',\n          value: '5px',\n        },\n      ],\n    };\n  }),\n};\n\nconst mobile: AST = {\n  type: 'div',\n  styles: [\n    { key: 'padding', value: '50px 0' },\n    {\n      key: 'height',\n      value: '100%',\n    },\n    {\n      key: 'width',\n      value: '100%',\n    },\n    {\n      key: 'position',\n      value: 'relative',\n    },\n    {\n      key: 'display',\n      value: 'flex',\n    },\n  ],\n  children: [\n    {\n      type: 'div',\n      styles: [\n        {\n          key: 'position',\n          value: 'absolute',\n        },\n        {\n          key: 'height',\n          value: '50px',\n        },\n        {\n          key: 'width',\n          value: '100%',\n        },\n        {\n          key: 'top',\n          value: '0',\n        },\n        {\n          key: 'left',\n          value: '0',\n        },\n      ],\n      children: [],\n    },\n    {\n      type: 'div',\n      styles: [\n        {\n          key: 'flex',\n          value: '1',\n        },\n        {\n          key: 'overflow',\n          value: 'auto',\n        },\n        {\n          key: 'margin',\n          value: '10px 0',\n        },\n      ],\n      children: [],\n    },\n    {\n      type: 'div',\n      styles: [\n        {\n          key: 'position',\n          value: 'absolute',\n        },\n        {\n          key: 'height',\n          value: '50px',\n        },\n        {\n          key: 'width',\n          value: '100%',\n        },\n        {\n          key: 'bottom',\n          value: '0',\n        },\n        {\n          key: 'left',\n          value: '0',\n        },\n      ],\n      children: [],\n    },\n  ],\n};\n\nconst none: AST = {\n  type: 'div',\n  styles: [\n    {\n      key: 'height',\n      value: '100%',\n    },\n    {\n      key: 'width',\n      value: '100%',\n    },\n    {\n      key: 'overflow',\n      value: 'auto',\n    },\n  ],\n  children: [\n    {\n      type: 'div',\n      styles: [\n        {\n          key: 'height',\n          value: '100%',\n        },\n        {\n          key: 'width',\n          value: '100%',\n        },\n        {\n          key: 'overflow',\n          value: 'auto',\n        },\n      ],\n      children: [],\n    },\n  ],\n};\n\nconst scroll: AST = {\n  type: 'div',\n  styles: [\n    {\n      key: 'height',\n      value: '100%',\n    },\n    {\n      key: 'width',\n      value: '100%',\n    },\n    {\n      key: 'overflow',\n      value: 'auto',\n    },\n  ],\n  children: [\n    {\n      type: 'div',\n      styles: [\n        {\n          key: 'height',\n          value: '300%',\n        },\n        {\n          key: 'width',\n          value: '100%',\n        },\n      ],\n      children: [],\n    },\n  ],\n};\n\nconst LayoutAST = [\n  {\n    title: 'Flex 横向',\n    layout: flexRow,\n  },\n  {\n    title: 'Flex 纵向',\n    layout: flexColum,\n  },\n  {\n    title: '移动端上下 Padding',\n    layout: mobile,\n  },\n  {\n    title: '滚动',\n    layout: scroll,\n  },\n  {\n    title: '空盒子',\n    layout: none,\n  },\n];\n\nexport { LayoutAST };\n","import { AST } from 'src/model';\nimport { useContext } from 'react';\nimport styles from './index.module.scss';\nimport { LayoutAST } from 'src/const/layout';\nimport { useCallback } from 'react';\nimport { PagesContext } from 'src/context';\nimport { useRef } from 'react';\nimport { useMemo } from 'react';\nimport _ from 'lodash';\nimport { Tooltip } from 'antd';\n\nconst Layout: React.FC<{}> = () => {\n  const { pagesService } = useContext(PagesContext);\n  const pageLayout = useRef<{ [props: string]: { title: string; layout: AST }[] }>(\n    {},\n  );\n\n  const page = pagesService.getCurrentPage();\n\n  const pageLayoutAST = useMemo(() => {\n    if (page) {\n      if (pageLayout.current?.[page.id]) {\n        return pageLayout.current[page.id];\n      }\n      LayoutAST.forEach(layout => {\n        const node = page.createNode(_.cloneDeep(layout.layout));\n        const DOM = page.Doc.create(node);\n        page.DocEvent.bindLayoutEvent(node);\n        layout.layout.element = DOM;\n      });\n\n      pageLayout.current[page.id] = LayoutAST;\n    }\n\n    return LayoutAST;\n  }, [page]);\n\n  return (\n    <div className={styles.container}>\n      {pageLayoutAST.map((layout, index) => (\n        <div key={index} className={styles.layoutWarper}>\n          <Item layout={layout} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst Item: React.FC<{ layout: { title: string; layout: AST } }> = ({ layout }) => {\n  const renderLayout = useCallback(\n    (ele: HTMLDivElement) => {\n      if (ele && layout.layout.element) {\n        if (ele.firstChild) ele.removeChild(ele.firstChild);\n        ele.appendChild(layout.layout.element);\n      }\n    },\n    [layout.layout.element],\n  );\n\n  return (\n    <Tooltip placement=\"left\" title={layout.title}>\n      <div style={{ height: '100%', width: '100%' }} ref={renderLayout} />\n    </Tooltip>\n  );\n};\n\nexport default Layout;\n","import { PagesContext } from 'src/context';\nimport { useContext } from 'react';\nimport styles from './index.module.scss';\nimport React from 'react';\nimport { getDoubleTime } from 'src/util';\nimport { HistorySet } from 'src/model';\nimport { RedoOutlined, UndoOutlined } from '@ant-design/icons';\nimport { Tooltip } from 'antd';\n\nconst History: React.FC<{}> = () => {\n  const { pagesService } = useContext(PagesContext);\n\n  const page = Object.values(pagesService.getPages()).filter(\n    ({ id }) => id === pagesService.currentId,\n  )[0];\n\n  const renderHistory = (): React.ReactNode => {\n    return page?.history.history\n      .slice()\n      .filter(_ => _)\n      .reverse()\n      .map(history => (\n        <HistoryList\n          history={history}\n          key={history.id}\n          renderSpanIcon={(id: number) => (\n            <span\n              onClick={() => {\n                page.returnHistory(id);\n              }}\n            >\n              <Tooltip placement=\"right\" title=\"回退版本\">\n                <RedoOutlined />\n              </Tooltip>\n            </span>\n          )}\n        />\n      ));\n  };\n\n  const renderFutureHistory = (): React.ReactNode => {\n    return page?.history.future\n      .slice()\n      .filter(_ => _)\n      .map(history => (\n        <HistoryList\n          className={styles.futureHistory}\n          history={history}\n          key={history.id}\n          renderSpanIcon={(id: number) => (\n            <span\n              onClick={() => {\n                page.recoveryHistory(id);\n              }}\n            >\n              <Tooltip placement=\"right\" title=\"还原版本\">\n                <UndoOutlined />\n              </Tooltip>\n            </span>\n          )}\n        />\n      ));\n  };\n\n  return (\n    <div className={styles.container}>\n      {renderFutureHistory()}\n      {renderHistory()}\n    </div>\n  );\n};\n\nconst HistoryList = ({\n  history,\n  renderSpanIcon,\n  className,\n}: {\n  history: HistorySet;\n  renderSpanIcon: (id: number) => React.ReactNode;\n  className?: string;\n}) => {\n  const formatTime = (time: Date): React.ReactNode => {\n    return `${time.getFullYear()}/${\n      time.getMonth() + 1\n    }/${time.getDate()}  ${time.getHours()}:${getDoubleTime(\n      time.getMinutes(),\n    )}:${getDoubleTime(time.getSeconds())}`;\n  };\n\n  const { id, time, description } = history;\n  return (\n    <div className={`${styles.history} ${className}`}>\n      <span>{description}</span>\n      <span>{formatTime(time)}</span>\n      {renderSpanIcon(id)}\n    </div>\n  );\n};\n\nexport default History;\n","import React from 'react';\n\nconst Component: React.FC<{ test: React.ReactNode }> = ({ test }) => {\n  console.log('test', test);\n  return <></>;\n};\n\nexport default Component;\n","import styles from '../index.module.scss';\nimport { Menu } from 'src/pages/App/config';\n\nconst MenuComponent: React.FC<{ onChange: (id: string) => void; menus: Menu[] }> = ({\n  onChange,\n  menus,\n}) => {\n  return (\n    <div className={styles.menu}>\n      {menus.map(({ id, icon }) => (\n        <div key={id} onClick={() => onChange(id)}>\n          {icon}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default MenuComponent;\n","import { Layout } from 'antd';\nimport { useState, useMemo } from 'react';\nimport { getSiderMenu, Menu } from 'src/pages/App/config';\nimport MenuComponent from './Menu';\nimport styles from './index.module.scss';\n\nconst { Sider } = Layout;\n\n// eslint-disable-next-line\nexport default () => {\n  const menus: Menu[] = useMemo(() => {\n    return getSiderMenu();\n  }, []);\n\n  const [curMenu, setCurMenu] = useState(menus[0].id);\n\n  return (\n    <Sider width={400} theme=\"light\">\n      <div className={styles.slider}>\n        <MenuComponent onChange={menu => setCurMenu(menu)} menus={menus} />\n        <div className={styles.body}>\n          {menus.map(({ component, id, title }) => {\n            const isShow = curMenu === id;\n            return (\n              <div\n                key={id}\n                className={styles.card}\n                style={{ display: isShow ? 'flex' : 'none' }}\n              >\n                <h3 className={styles.title}>{title}</h3>\n                <div className={styles.component}>{component}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Sider>\n  );\n};\n","import { LayoutComponent, History, Component } from './slider-components';\nimport {\n  HistoryOutlined,\n  LayoutOutlined,\n  AppstoreOutlined,\n} from '@ant-design/icons';\nimport { Button } from 'antd';\n\nexport interface Menu {\n  icon: React.ReactNode;\n  id: string;\n  title: string;\n  component: React.ReactNode;\n}\n\nconst getSiderMenu = (): Menu[] => {\n  return [\n    {\n      id: 'layout',\n      icon: <LayoutOutlined style={{ fontSize: 24 }} />,\n      title: '常见布局',\n      component: <LayoutComponent />,\n    },\n    {\n      id: 'history',\n      icon: <HistoryOutlined style={{ fontSize: 24 }} />,\n      title: '历史记录',\n      component: <History />,\n    },\n    {\n      id: 'component',\n      icon: <AppstoreOutlined style={{ fontSize: 24 }} />,\n      title: '组件',\n      component: <Component test={<Button />} />,\n    },\n  ];\n};\n\nexport { getSiderMenu };\n","import { Input } from 'antd';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { PageService } from 'src/controller';\nimport styles from './index.module.scss';\n\nconst Css: React.FC<{ page: PageService }> = ({ page }) => {\n  const cssString =\n    page?.currentNode[0]?.styles\n      ?.map(({ key, value }) => {\n        return `${key}: ${value};\\n`;\n      })\n      .join('') || '';\n\n  const [css, setCss] = useState(cssString);\n\n  useEffect(() => {\n    setCss(cssString);\n  }, [cssString]);\n\n  const setStyle = () => {\n    if (css !== cssString) {\n      const styles = css\n        .replace(/\\\\n/, '')\n        .split(';')\n        .map(style => {\n          const [key, value] = style.split(':').map(key => key.trim());\n          return {\n            key,\n            value,\n          };\n        })\n        .filter(({ key, value }) => key && value);\n      page.setStyles(styles);\n    }\n  };\n\n  return (\n    <div>\n      <Input.TextArea\n        className={styles.input}\n        value={css}\n        rows={10}\n        onChange={e => {\n          setCss(e.target.value);\n        }}\n        onBlur={() => setStyle()}\n      />\n    </div>\n  );\n};\n\nexport default Css;\n","import { Input, Select } from 'antd';\nimport { useEffect } from 'react';\nimport { useRef } from 'react';\nimport { useState } from 'react';\nimport { CssProps } from '../config';\n\nconst { Option } = Select;\n\nconst KEY = 'width';\nconst Width: React.FC<CssProps> = ({ style = [], onChange }) => {\n  const [option, setOption] = useState('px');\n  const [value, setValue] = useState('');\n  const unitValue = useRef<{ [props: string]: string }>();\n\n  const width = style.filter(css => css.key === KEY)[0];\n\n  useEffect(() => {\n    const [, pixel, unit] =\n      width?.value.trim().match(/^([0-9]*)(%|px|rem|em)/) || [];\n    setOption(unit || 'px');\n    setValue(pixel || '');\n    unitValue.current = {\n      [unit]: pixel,\n    };\n    // eslint-disable-next-line\n  }, [style]);\n\n  const setStyle = () => {\n    if (width.value !== `${value}${option}`) {\n      onChange?.([\n        ...style.filter(css => css.key !== KEY),\n        {\n          key: KEY,\n          value: `${value}${option}`,\n        },\n      ]);\n    }\n  };\n\n  return (\n    <div>\n      <Input\n        addonAfter={\n          <Select\n            defaultValue=\"px\"\n            value={option}\n            onChange={unit => {\n              setOption(unit);\n              setValue(\n                ['rem', 'custom', 'vw'].includes(unit)\n                  ? '暂不支持'\n                  : unitValue.current?.[unit] || '',\n              );\n            }}\n          >\n            <Option value=\"px\">px</Option>\n            <Option value=\"rem\">rem</Option>\n            <Option value=\"vw\">vw</Option>\n            <Option value=\"%\">%</Option>\n            <Option value=\"custom\">自定义</Option>\n          </Select>\n        }\n        disabled={['rem', 'custom', 'vw'].includes(option)}\n        onBlur={() => setStyle()}\n        value={value}\n        onChange={e => setValue(e.target.value)}\n      />\n    </div>\n  );\n};\n\nexport default Width;\n","import { Style } from 'src/model';\nimport { Width } from './component';\n\nexport interface CssProps {\n  style?: Style[];\n  onChange?: (styles: Style[]) => void;\n}\n\nconst Css = [\n  {\n    title: '宽度',\n    key: 'width',\n    component: (props: CssProps) => <Width {...props} />,\n  },\n];\n\nexport { Css };\n","import { Collapse, Input } from 'antd';\nimport { useState } from 'react';\nimport { PageService } from 'src/controller';\nimport { Css } from './config';\nimport _ from 'lodash';\nimport { Style } from 'src/model';\n\nconst { Panel } = Collapse;\n\nconst StyleComponent: React.FC<{ page: PageService }> = ({ page }) => {\n  const [value, setValue] = useState('');\n\n  const onChange = (styles: Style[]) => {\n    page.setStyles(styles);\n  };\n\n  return (\n    <div>\n      <Input\n        placeholder=\"CSS 属性过滤\"\n        onChange={e => setValue(e.target.value)}\n        style={{ marginBottom: 10 }}\n      />\n      <Collapse defaultActiveKey={[Css[0].key]} onChange={() => {}}>\n        {Css.filter(\n          ({ key }) => !value || new RegExp(_.escapeRegExp(value), 'ig').test(key),\n        ).map(({ key, title, component }) => {\n          return (\n            <Panel header={title} key={key}>\n              {component({\n                style: page?.currentNode[0]?.styles,\n                onChange,\n              })}\n            </Panel>\n          );\n        })}\n      </Collapse>\n    </div>\n  );\n};\n\nexport default StyleComponent;\n","import { Tabs } from 'antd';\nimport { useContext } from 'react';\nimport { PagesContext } from 'src/context';\nimport Css from './Css';\nimport styles from './index.module.scss';\nimport Style from './Style';\n\nconst { TabPane } = Tabs;\n\nconst Drawer: React.FC<{}> = () => {\n  const { pagesService } = useContext(PagesContext);\n\n  const page = pagesService.getCurrentPage();\n\n  const isShow = !!page?.currentNode.length;\n\n  return (\n    <div\n      className={styles.drawer}\n      style={{ display: `${isShow ? 'flex' : 'none'}` }}\n    >\n      <Tabs defaultActiveKey=\"1\" style={{ width: '100%' }}>\n        <TabPane tab=\"样式\" key=\"style\">\n          <Style page={page} />\n        </TabPane>\n        <TabPane tab=\"CSS\" key=\"css\">\n          <Css page={page} />\n        </TabPane>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default Drawer;\n","import { Layout } from 'antd';\nimport Content from './components/Content';\nimport Header from './components/Header';\nimport Sider from './components/Sider';\nimport Drawer from './components/Drawer';\nimport { PagesProvider } from 'src/context';\n\nfunction App() {\n  return (\n    <PagesProvider>\n      <Layout style={{ height: '100vh' }}>\n        <Header></Header>\n        <Layout>\n          <Sider />\n          <Content />\n          <Drawer />\n        </Layout>\n      </Layout>\n    </PagesProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './pages';\nimport reportWebVitals from './reportWebVitals';\nimport 'antd/dist/antd.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__xPKcR\",\"header\":\"Content_header__bjQ3t\",\"pagesWarper\":\"Content_pagesWarper__2Sdy5\",\"pages\":\"Content_pages__PYbAE\",\"page\":\"Content_page__Jvlwt\",\"close\":\"Content_close__1PY2y\",\"new\":\"Content_new__XJfj9\",\"opr\":\"Content_opr__35bfK\",\"operation\":\"Content_operation__1Nyvf\",\"zoom\":\"Content_zoom__3hBWU\",\"inputNumber\":\"Content_inputNumber__1-FyC\",\"history\":\"Content_history__1xtr0\",\"code\":\"Content_code__2nlkR\",\"eye\":\"Content_eye__8_RWq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Sider_slider__21FJV\",\"body\":\"Sider_body__2ezYg\",\"card\":\"Sider_card__1KPCw\",\"title\":\"Sider_title__3keBS\",\"component\":\"Sider_component__1YlH0\",\"menu\":\"Sider_menu__3MvPX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Body_container__1bIDN\",\"canvas\":\"Body_canvas__3sLCI\",\"body\":\"Body_body__3fs3G\"};"],"sourceRoot":""}